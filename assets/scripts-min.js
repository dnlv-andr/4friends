function initCardAnimations(){Array.from(document.querySelectorAll(".card")).forEach((function(t,e){setTimeout((function(){t.style.opacity="1",t.style.transform="translate3D(0, 0, 0)"}),100*e)}))}function initParallax(){document.addEventListener("scroll",(function(){let t=window.pageYOffset,e=.3*t;document.querySelector(".cover-image").style.transform=`translate3d(0, ${e}px, 0)`;let n=1-t/1e3,o=.25*t;n>.6&&(document.querySelector(".place-info").style.transform=`translateY(${o}px) scale(${n})`)}))}function updateBarStatus(){const t=document.querySelector(".current-status"),e=t.querySelector(".indicator"),n=t.querySelector(".body-1"),o=new Date,a=o.getDay(),r=o.getHours(),i=o.getMinutes();r>=(0===a||6===a?11:10)&&r<22?(e.className="indicator open",n.textContent="Сьогодні до 23:00"):22===r?i<=15?(e.className="indicator last-hour",n.textContent="Ще годинку"):i>45?(e.className="indicator last-hour",n.textContent="Останній шанс"):(e.className="indicator last-hour",n.textContent="Замиваємось"):(e.className="indicator close",n.textContent="Зараз зачинено")}function initTabsBar(){let t=!1;function e(t){document.querySelectorAll(".tab-item").forEach((t=>t.classList.remove("active")));const e=document.querySelector(`[data-section="${t.substring(1)}"]`);e.classList.add("active");const n=document.querySelector(".tabs-wrapper"),o=e.offsetLeft-(n.offsetWidth/2-e.offsetWidth/2);n.scrollTo({left:o,behavior:"smooth"})}document.querySelectorAll(".tab-item").forEach((n=>{n.addEventListener("click",(function(n){n.preventDefault();const o=this.getAttribute("data-section");!function(e){t=!0;const n=document.querySelector(e).getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:n-144,behavior:"smooth"}),setTimeout((()=>{t=!1}),1e3)}(`#${o}`),e(`#${o}`)}))})),document.addEventListener("scroll",(function(){if(t)return;const n=Array.from(document.querySelectorAll(".tab-item")).map((t=>t.getAttribute("data-section")));let o=null,a=1/0;for(const t of n){const e=document.getElementById(t).getBoundingClientRect(),n=Math.abs(e.top);e.top<=window.innerHeight&&e.bottom>=0&&n<a&&(a=n,o=t)}o&&e(`#${o}`)}))}function toggleTopBar(){const t=document.querySelector(".page-top-bar");window.scrollY>=316?t.classList.add("fixed"):t.classList.remove("fixed")}function loadContent(t,e=!0){fetch(`${t}.html`).then((t=>t.text())).then((n=>{document.getElementById("content-container").innerHTML=n,attachEventListeners(),setTimeout((()=>{initAll()}),100),e&&window.history.pushState({page:t},"",`#${t}`),window.scrollTo({top:0,behavior:"smooth"})})).catch((t=>console.error("Error fetching content:",t)))}function attachEventListeners(){window.addEventListener("scroll",toggleTopBar),document.querySelectorAll(".nav-link").forEach((t=>{t.addEventListener("click",(function(t){t.preventDefault();loadContent(this.getAttribute("data-target"))}))}));const t=document.getElementById("back-button");t&&t.addEventListener("click",(function(t){t.preventDefault(),loadContent("home")}))}function initAll(){initCardAnimations(),initTabsBar(),initParallax()}window.addEventListener("popstate",(function(t){t.state&&t.state.page&&loadContent(t.state.page,!1)})),document.addEventListener("DOMContentLoaded",(()=>{loadContent("home"),attachEventListeners(),initAll(),updateBarStatus(),setInterval(updateBarStatus,6e4)}));